#+TITLE: OS Project 3
#+AUTHOR: Harsha Somisetty
#+DATE: November 14, 2021
#+SETUPFILE: ~/.emacs.d/.latex_standard.org
* Results
#+PLOT: title:"naive_counter" ind:1 type:2d file:"./img/naive_counter.png"  set:"xlabel 'threads'" set:"ylabel 'runtime'" 
| threadCount | runTime |
| 1 | 29 |
| 2 | 93 |
| 4 | 224 |
| 8 | 378 |
| 16 | 753 |
| 32 | 1386 |
| 64 | 2826 |
| 128 | 6920 |

[[./img/naive_counter.png]]

#+Begin_Latex
\pagebreak
#+End_Latex
#+PLOT: title:"naive_counter_plus" ind:1 type:2d file:"./img/naive_counter_plus.png"  set:"xlabel 'threads'" set:"ylabel 'runtime'" 
| threadCount | runTime |
| 1 | 310 |
| 2 | 1490 |
| 4 | 3121 |
| 8 | 8077 |
| 16 | 17213 |
| 32 | 46182 |
| 64 | 99748 |
| 128 | 187970 |

[[./img/naive_counter_plus.png]]

#+Begin_Latex
\pagebreak
#+End_Latex

#+PLOT: title:"atomic_counter" ind:1 type:2d file:"./img/atomic_counter.png"  set:"xlabel 'threads'" set:"ylabel 'runtime'" 
| threadCount | runTime |
| 1 | 121 |
| 2 | 882 |
| 4 | 1665 |
| 8 | 3683 |
| 16 | 6717 |
| 32 | 13371 |
| 64 | 25573 |
| 128 | 41070 |

[[./img/atomic_counter.png]]

#+Begin_Latex
\pagebreak
#+End_Latex

#+PLOT: title:"scalable_counter" ind:1 type:2d file:"./img/scalable_counter.png"  set:"xlabel 'threads'" set:"ylabel 'runtime'" 
| threadCount | runTime |
| 1 | 33 |
| 2 | 36 |
| 4 | 32 |
| 8 | 47 |
| 16 | 81 |
| 32 | 164 |
| 64 | 319 |
| 128 | 627 |

[[./img/scalable_counter.png]]

#+Begin_Latex
\pagebreak
#+End_Latex

* Questions
** Naive Counter error
Naive counter is very off from the true value, because the thread addition often collide with each other, and not all the increments get saved
** Atomic Counter vs Naive plus
The Atomic counter increments the global counter truely atomically and saves time, while the Naive Plus algo wastes a lot of time waiting to make sure that only one thread is in the critical section, retrieve the data, then release a lock. 
** Atomic Counter vs Naive
Naive has many threads running at once, and inherently is faster than Atomic counter since Naive's threads can interrupt each other, while atomic's threads cannot interrupt each other.
